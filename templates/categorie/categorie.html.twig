{% extends 'base.html.twig' %}

{% block title %}Hello {{ category.id }}!{% endblock %}

{% block body %}
<style>
    .example-wrapper { margin: 1em auto; max-width: 800px; width: 95%; font: 18px/1.5 sans-serif; }
    .example-wrapper code { background: #F5F5F5; padding: 2px 6px; }
    .sous-categorie, .topic{ font-weight: bold; font-size: 1.2rem; margin-bottom: 0.5rem; }
    .sous-categorie-description{ list-style: none; font-weight: initial; font-size: initial; margin-bottom: 0; }
</style>

{#    {{ dump(category) }}#}
    {% if category.categoriesFilles|length>0 %}
        <h2>Catégorie{% if category.categoriesFilles|length>1 %}s{% endif %}</h2>
        <ul>
            {% for sousCategorie in category.categoriesFilles %}
            <li class="sous-categorie">
                <a href="/categorie/{{ sousCategorie.id }}">{{ sousCategorie.titre }} :</a>
                <ul>
                    <li class="sous-categorie-description">{{ sousCategorie.description }}</li>
                </ul>
            </li>

{#                <span>Cette sous-catégorie a {{ sousCategorie.topics|length }} topics :</span>#}
{#                <ul>#}
{#                {% for topic in sousCategorie.topics %}#}
{#                    <li>Topic n°{{ loop.index}}</li>#}
{#                {% endfor %}#}
{#                </ul>#}
            {% endfor %}
        </ul>
    {% else %}
        <p>la {% if category.parent == null %}catégorie{{ category.id}}{% else %}{{ category.titre }} {% endif %} n'a pas de sous-catégories.</p>
    {% endif %}

    <h2>Topics</h2>
    <ul>
        {% for topic in category.topics %}
            <li class="topic">
                <a href="/topic/{{ topic.id }}">Topic n°{{ loop.index }} de la {% if category.parent == null %}catégorie{{ category.id}}{% else %}{{ category.titre }} {% endif %}</a>
            </li>
        {% endfor %}
    </ul>

{% endblock %}